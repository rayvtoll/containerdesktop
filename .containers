#source file

start(){
	until ssh -X -o "StrictHostKeyChecking no" $USER@vcd-$USER-$1 $2 2>/dev/null ; do sleep 0.4 && echo "..." ; done
}

request(){
	curl -X POST app-provider -H 'content-type: application/json' -d '{"app":"'$1'"}'
}

defaultapp() {
	request $1
	start $1 $1
}

thunderbird(){ 	defaultapp thunderbird; }
geary(){	defaultapp geary;	}
evolution(){	defaultapp evolution;	}
nautilus() {	defaultapp nautilus;	}
libreoffice() {	defaultapp libreoffice;	}
gimp() {	defaultapp gimp;	}

chrome(){
	request chrome
	start chrome 'google-chrome'
}

firefox(){
	request firefox
	start firefox "firefox $1" 
}

libreoffice-draw(){
	request libreoffice
	start libreoffice "libreoffice --draw $1"
}

libreoffice-writer(){
	request libreoffice
	start libreoffice "libreoffice --writer $1"
}

libreoffice-impress(){
	request libreoffice
	start libreoffice "libreoffice --impress $1"
}

libreoffice-calc(){
	request libreoffice
	start libreoffice "libreoffice --calc $1"
}
